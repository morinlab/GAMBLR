<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GAMBLR • GAMBLR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="GAMBLR">
<meta property="og:description" content="Database, mining, manipulation and convenience functions for working with GAMBL results.">
<meta property="og:image" content="https://github.com/morinlab/GAMBLR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-12345678-0"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-12345678-0');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">GAMBLR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9500</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-light fa-memo-circle-info"></span>
     
    How To
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://morinlab.github.io/GAMBLR/#installation" class="external-link">Install</a>
    </li>
    <li>
      <a href="https://morinlab.github.io/GAMBLR/#running-gamblr-on-your-own-computer" class="external-link">Running GAMBLR On Your Own Computer</a>
    </li>
    <li>
      <a href="https://morinlab.github.io/GAMBLR/#contributing" class="external-link">Contribute</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fa fa-light fa-person-chalkboard"></span>
     
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/ssm_tutorial.html">SSM</a>
    </li>
    <li>
      <a href="articles/cn_sv_tutorial.html">CN &amp; SV</a>
    </li>
    <li>
      <a href="articles/fancy_plots.html">Fancy Plots</a>
    </li>
    <li>
      <a href="articles/utilities_tutorial.html">Utilities</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Functions &amp; Bundled Data
  </a>
</li>
<li>
  <a href="https://github.com/morinlab/GAMBLR">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1 id="section">
<img src="reference/figures/logo.png" align="right" alt="" width="120"><a class="anchor" aria-label="anchor" href="#section"></a>
</h1></div>
<p><img src="https://github.com/morinlab/GAMBLR/actions/workflows/build_check.yml/badge.svg"></p>
</div>
<div class="section level1">
<h1 id="gabmlr---an-r-package-with-convenience-functions-for-working-with-gambl-results">GABMLR - an R package with convenience functions for working with GAMBL results.<a class="anchor" aria-label="anchor" href="#gabmlr---an-r-package-with-convenience-functions-for-working-with-gambl-results"></a>
</h1>
<p>If you are viewing this page on Github, consider clicking <a href="https://morinlab.github.io/GAMBLR/" class="external-link">this link</a> to go to the GAMBLR webpage and learn more about this package.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>If you have access to gphost, the easiest way to obtain and run GAMBLR is to do this via Rstudio on a gphost. If you do not have access to gphost, please refer to the <a href="#Run%20Remote%20On%20A%20Local%20Machine">Run Remote On A Local Machine</a> section. Assuming you are running Rstudio on gphost, clone the repo to your home directory (not your GAMBL working directory).</p>
<pre><code>git clone git@github.com:morinlab/GAMBLR.git</code></pre>
<p>In Rstudio (on a gphost), set your working directory to the place you just cloned the repo.</p>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"~/GAMBLR-master"</span><span class="op">)</span></span></code></pre>
<p>Install the package in R by running the following command (requires the devtools package)</p>
<pre><code><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/install.html" class="external-link">install</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="running-gamblr-on-your-own-computer">Running GAMBLR On Your Own Computer<a class="anchor" aria-label="anchor" href="#running-gamblr-on-your-own-computer"></a>
</h2>
<p>If you don’t have access to gphost on GSC, no worries, you can still execute GAMBLR functions in another way. Remote support was developed for this purpose. This section explains how to run GAMBLR remote on a <em>local machine</em> (i.e on your own computer). There are two different approaches to get this to work, both with its own advantages and limitations. We will be going over both in this next section.</p>
<div class="section level3">
<h3 id="approach-1---quick-start">Approach 1 - Quick Start<a class="anchor" aria-label="anchor" href="#approach-1---quick-start"></a>
</h3>
<p>This section details how to deploy GAMBLR with limited functionality. This approach requires either a working GSC VPN connection (or is directly accessible if connected to the GSC network).</p>
<div class="section level4">
<h4 id="setup-vpn-connection">Setup VPN Connection<a class="anchor" aria-label="anchor" href="#setup-vpn-connection"></a>
</h4>
<ol style="list-style-type: decimal"><li>You need a working GSC VPN connection to use this approach. For setting up a VPN connection see <a href="https://www.bcgsc.ca/wiki/pages/viewpage.action?spaceKey=SysHelp&amp;title=Learn+how+to+use+VPN" class="external-link">this</a> guide. Keep in mind that a <strong>VPN connection is not needed</strong> if your already connected to the GSC network.</li></ol>
</div>
<div class="section level4">
<h4 id="clone-repos-update-paths-install-and-load-r-packages">Clone Repos, Update Paths, Install and Load R Packages<a class="anchor" aria-label="anchor" href="#clone-repos-update-paths-install-and-load-r-packages"></a>
</h4>
<ol start="2" style="list-style-type: decimal"><li>Clone <a href="https://github.com/morinlab/gambl" class="external-link">GAMBL</a> and <a href="https://github.com/morinlab/GAMBLR">GAMBLR</a> to your local computer. From your terminal run the following commands (folder structures can be whatever you want…)</li></ol>
<pre><code>mkdir ~/git_repos
cd ~/git_repos #set as working directiory
git clone https://github.com/morinlab/gambl
git clone https://github.com/morinlab/GAMBLR</code></pre>
<ol start="3" style="list-style-type: decimal"><li>Update the <strong>paths</strong> in your local <a href="https://github.com/morinlab/GAMBLR/blob/master/config.yml">config.yml</a> (GAMBLR-master) to point to the recently cloned, local <strong>gambl</strong> folder (repo_base). In your favorite text editor, edit the line shown below (under <em>remote</em>). Similarly, you will also need to edit the line above it to point to where you will eventually sync the GAMBL results.</li></ol>
<pre><code><span><span class="va">remote</span><span class="op">:</span></span>
<span>    <span class="va">project_base</span><span class="op">:</span> <span class="st">"/path/to/your/local/gambl_results_directory/"</span></span>
<span>    <span class="va">repo_base</span><span class="op">:</span> <span class="st">"/path/to/your/local/gambl_repo/"</span></span></code></pre>
<ol start="4" style="list-style-type: decimal"><li>Set the <strong>working directory</strong> in Rstudio. Open Rstudio on your local machine and locate the repo you cloned previously.</li></ol>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"~/git_repos/GAMBLR-master"</span><span class="op">)</span></span></code></pre>
<ol start="5" style="list-style-type: decimal"><li>Install GAMBLR in your local R studio.</li></ol>
<pre><code><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/install.html" class="external-link">install</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<ol start="6" style="list-style-type: decimal"><li>Load packages.</li></ol>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">GAMBLR</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="set-config-to-remote">Set Config To Remote<a class="anchor" aria-label="anchor" href="#set-config-to-remote"></a>
</h4>
<ol start="7" style="list-style-type: decimal"><li>Execute the following in Rstudio console to make use of the updated paths in the <a href="https://github.com/morinlab/GAMBLR/blob/master/config.yml">config.yml</a> from step 3.</li></ol>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>R_CONFIG_ACTIVE <span class="op">=</span> <span class="st">"remote"</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="run-gamblr">Run GAMBLR<a class="anchor" aria-label="anchor" href="#run-gamblr"></a>
</h4>
<ol start="8" style="list-style-type: decimal"><li>Test if setup was successful (e.g call <code><a href="reference/get_gambl_metadata.html">get_gambl_metadata()</a></code> to retrieve meta data for all gambl samples).</li></ol>
<pre><code><span><span class="fu"><a href="reference/get_gambl_metadata.html">get_gambl_metadata</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="approach-2---the-full-instalation-snakemake">Approach 2 - The Full Instalation (Snakemake)<a class="anchor" aria-label="anchor" href="#approach-2---the-full-instalation-snakemake"></a>
</h3>
<p>This section details how to obtain GAMBLR with <strong>full</strong> functionality, using a dedicated snake file to retrieve all necessary files and dependencies.</p>
<div class="section level4">
<h4 id="before-you-get-started">Before You Get Started<a class="anchor" aria-label="anchor" href="#before-you-get-started"></a>
</h4>
<ol style="list-style-type: decimal">
<li>Make sure you have a working SSH key <strong>setup with a pass phrase</strong>. If not, follow instructions at <a href="https://www.bcgsc.ca/wiki/login.action?os_destination=%2Fpages%2Fviewpage.action%3FspaceKey%3DSysHelp%26title%3DSetup%2BPassword-less%2BSSH&amp;permissionViolation=true" class="external-link">GSC Wiki</a>. Warning, this will <strong>not</strong> work with a pass phrase-less SSH connection. #### Clone Repos and Set Up Environment</li>
<li>Clone <a href="https://github.com/morinlab/gambl" class="external-link">GAMBL</a> and <a href="https://github.com/morinlab/GAMBLR">GAMBLR</a>.</li>
</ol>
<pre><code>mkdir ~/git_repos
cd ~/git_repos
git clone https://github.com/morinlab/gambl
git clone https://github.com/morinlab/GAMBLR</code></pre>
<ol start="3" style="list-style-type: decimal"><li>On your local machine, make a new directory called <strong>gambl_results</strong>, for example.</li></ol>
<pre><code>mkdir ~/gambl_results/</code></pre>
<ol start="4" style="list-style-type: decimal"><li>Update paths under <code>remote</code> in your <strong>local</strong> <a href="https://github.com/morinlab/GAMBLR/blob/master/config.yml">config.yml</a> (GAMBLR) to point to the recently cloned, local <strong>gambl</strong> folder (<em>repo_base</em>) and recently created <strong>gambl_results</strong> (<em>project_base</em>) folder. For example:</li></ol>
<pre><code><span><span class="va">remote</span><span class="op">:</span></span>
<span>    <span class="va">project_base</span><span class="op">:</span> <span class="st">"~/gambl_results/"</span></span>
<span>    <span class="va">repo_base</span><span class="op">:</span> <span class="st">"~/git_repos/gambl-master/"</span></span></code></pre>
<ol start="5" style="list-style-type: decimal"><li>Copy the following files (from your recently cloned <a href="https://github.com/morinlab/GAMBLR">GAMBLR</a> directory) into the folder from the previous step; <code>config.yml</code> and <code>get_gambl_results.smk</code>.</li></ol>
<pre><code>cp ~/git_repos/GAMBLR-master/config.yml ~/gambl_results/
cp ~/git_repos/GAMBLR-master/get_gambl_results.smk ~/gambl_results/</code></pre>
<ol start="6" style="list-style-type: decimal"><li>Add ENVVARS bash/zsh environment variables to your bashrc/zsh or some other way that will ensure they’re in your session (e.g. you can set them manually each time if you want, just make sure they are set). For example in your local terminal run the following commands (with updated values…).</li></ol>
<pre><code>export GSC_USERNAME="your_gsc_username"
export GSC_KEY="path_to_SSH_key_with_passphrase_from_step_1"
export GSC_PASSPHRASE="passpharase_from_step_1"</code></pre>
</div>
<div class="section level4">
<h4 id="install-gamblr-in-local-rstudio">Install GAMBLR In Local Rstudio<a class="anchor" aria-label="anchor" href="#install-gamblr-in-local-rstudio"></a>
</h4>
<ol start="7" style="list-style-type: decimal"><li>Open <strong>Rstudio</strong> (locally) and set the working directory to the folder you downloaded in step 2 (in the Rstudio console) and install GAMBLR.</li></ol>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">setwd</a></span><span class="op">(</span><span class="st">"~/git_repos/GAMBLR-master"</span><span class="op">)</span></span></code></pre>
<ol start="8" style="list-style-type: decimal"><li>Install and load GAMBLR into your local R session.</li></ol>
<pre><code><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/install.html" class="external-link">install</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="create-and-setup-snakemake-environment">Create and Setup Snakemake Environment<a class="anchor" aria-label="anchor" href="#create-and-setup-snakemake-environment"></a>
</h4>
<ol start="9" style="list-style-type: decimal"><li>In the terminal on your local machine, create a new snakemake environment from the <a href="https://github.com/morinlab/GAMBLR/blob/master/get_gambl_results.yml">get_gambl_results.yml</a> file. Note that you can name this new environment whatever you would like. In this example, the new environment is called <strong>snakemake_gambl</strong>.</li></ol>
<pre><code>cd ~/gambl_results
conda env create --name snakemake_gambl --file ~/git_repos/GAMBLR-master/get_gambl_results.yml</code></pre>
<ol start="10" style="list-style-type: decimal"><li>Activate this newly created snakemake environment with:</li></ol>
<pre><code>conda activate snakemake_gambl</code></pre>
<ol start="11" style="list-style-type: decimal"><li>Retrieve necessary files (download a local copy of all files needed to run a collection of GAMBLR functions). It’s strongly advised to use <code>--cores 1</code> for this, since it seems to be the more stable option. In addition, if your sync gets interrupted, you only need restart the syncing of 1 file, compared to if you run on multiple cores.</li></ol>
<pre><code>snakemake -s get_gambl_results.smk --cores 1</code></pre>
</div>
<div class="section level4">
<h4 id="use-gamblr-functions-locally">Use GAMBLR Functions Locally<a class="anchor" aria-label="anchor" href="#use-gamblr-functions-locally"></a>
</h4>
<ol start="12" style="list-style-type: decimal">
<li>In Rstudio (local), open <a href="https://github.com/morinlab/GAMBLR/blob/master/test_remote.R">test_remote.R</a> in GAMBLR master folder.</li>
<li>Execute the following in Rstudio console to make use of the updated paths in the <a href="https://github.com/morinlab/GAMBLR/blob/master/config.yml">config.yml</a> from step 5 (line 5 in <a href="https://github.com/morinlab/GAMBLR/blob/master/test_remote.R">test_remote.r</a>)</li>
</ol>
<pre><code><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>R_CONFIG_ACTIVE <span class="op">=</span> <span class="st">"remote"</span><span class="op">)</span></span></code></pre>
<ol start="14" style="list-style-type: decimal"><li>Check what files (if any) are currently missing.</li></ol>
<pre><code><span><span class="fu"><a href="reference/check_gamblr_config.html">check_gamblr_config</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<ol start="15" style="list-style-type: decimal"><li>You should now be all set to explore a collection of GAMBLR function remotely on your local machine. For example you could try the following test code to ensure your setup was successful. For a set of comprehensive examples and tutorials, please refer to the <a href="https://github.com/morinlab/GAMBLR/blob/master/test_remote.R">test_remote.r</a> script.</li></ol>
<pre><code><span><span class="fu"><a href="reference/get_gambl_metadata.html">get_gambl_metadata</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p><strong>Note</strong>, if your seeing the following message when trying to use GAMBLR, please ensure that the config/gambl repo is set up properly (step <strong>5</strong> and <strong>13</strong>) and/or remember to load the <em>remote</em> one (i.e <code>Sys.setenv(R_CONFIG_ACTIVE = "remote")</code>).</p>
<pre><code>get_gambl_metadata(seq_type_filter = "capture") %&gt;%
  pull(cohort) %&gt;%
  table()

Error: '/projects/rmorin/projects/gambl-repos/gambl-rmorin/data/metadata/gambl_all_outcomes.tsv' does not exist.</code></pre>
</div>
</div>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>As GAMBL users (GAMBLRs, so to speak) rely on the functionality of this package, the Master branch is protected. All commits must be submitted via pull request on a branch. Please refer to the <a href="https://github.com/morinlab/gambl#contribution-guidelines" class="external-link">GAMBL</a> documentation for details on how to do this.</p>
<div class="section level3">
<h3 id="for-developers">For Developers<a class="anchor" aria-label="anchor" href="#for-developers"></a>
</h3>
<p>When designing new functions, please refer to guid-lines and best practices detailed <a href="https://r-pkgs.org/" class="external-link">here</a>. For your convenience, here is an empty function-skeleton that can be recycled when designing new GAMBLR functions. Ensure to always provide the required documentation for any new functions. See <a href="https://r-pkgs.org/man.html#title-description-details" class="external-link">this</a> section for more details on best practices for documenting R functions. Unsure what information goes where in a function documentation? Here is a brief outline for what the different sections should include. For more information, see <a href="https://r-pkgs.org/man.html#title" class="external-link">this</a>.</p>
<div class="section level4">
<h4 id="title">Title<a class="anchor" aria-label="anchor" href="#title"></a>
</h4>
<p>The title is taken from the first sentence. It should be written in sentence case, not end in a full stop, and be followed by a blank line. The title is shown in various function indexes (e.g. help(package = “somepackage”)) and is what the user will usually see when browsing multiple functions.</p>
</div>
<div class="section level4">
<h4 id="description">Description<a class="anchor" aria-label="anchor" href="#description"></a>
</h4>
<p>The description is taken from the next paragraph. It’s shown at the top of documentation and should briefly describe the most important features of the function.</p>
</div>
<div class="section level4">
<h4 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a>
</h4>
<p>Additional details are anything after the description. Details are optional, but can be any length so are useful if you want to dig deep into some important aspect of the function. Note that, even though the details come right after the description in the introduction, they appear much later in rendered documentation.</p>
</div>
<div class="section level4">
<h4 id="parameters">Parameters<a class="anchor" aria-label="anchor" href="#parameters"></a>
</h4>
<p>Detailed parameter descriptions should be included for all functions. Remember to state the required data types, default values, if the parameter is required or optional, etc.</p>
</div>
<div class="section level4">
<h4 id="return">Return<a class="anchor" aria-label="anchor" href="#return"></a>
</h4>
<p>Specify the returned object, is it a data frame, a list, a vector or characters, etc.</p>
</div>
<div class="section level4">
<h4 id="import">Import<a class="anchor" aria-label="anchor" href="#import"></a>
</h4>
<p>Always import all the packages from which you are calling any functions outside of base R and R <a href="https://cran.r-project.org/doc/FAQ/R-FAQ.html#R-Add_002dOn-Packages" class="external-link">packages</a> that gets loaded per default. Remember to not import <code>tidyverse</code>, rather, import the individual packages from <code>tidyverse</code> that the function is depending on.</p>
</div>
<div class="section level4">
<h4 id="export">Export<a class="anchor" aria-label="anchor" href="#export"></a>
</h4>
<p>Should this function be exported to NAMESPACE (i.e make it directly accessible for anyone who loads GAMBLR) or is the function considered to be an internal/helper function (i.e don’t export it)?</p>
</div>
<div class="section level4">
<h4 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h4>
<p>Please provide fully reproducible examples for the function. Ideally, the example should demonstrate basic usage, as well as more advanced usage with different parameter combinations. Note that examples can not extend over 100 characters per line, since this will cause the lines to be truncated in the rendered PDF manual.</p>
<pre><code><span><span class="co">#' @title</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @description</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @details</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @param a_parameter </span></span>
<span><span class="co">#' @param another_parameter </span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @return</span></span>
<span><span class="co">#' </span></span>
<span><span class="co">#' @import</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @examples</span></span>
<span><span class="co">#' #this is an example</span></span>
<span><span class="co">#' ###For your reference, this line is exactly 100 characters. Do not exceed 100 characters per line</span></span>
<span><span class="co">#'</span></span>
<span></span>
<span><span class="va">function_name</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">a_parameter</span>,</span>
<span>                         <span class="va">another_parameter</span><span class="op">)</span><span class="op">{</span></span>
<span>                         <span class="op">}</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="example-function">Example Function<a class="anchor" aria-label="anchor" href="#example-function"></a>
</h4>
<p>For your convenience, as an example, here is a perfectly documented GAMBLR function, following the best practices detailed above.</p>
<pre><code><span><span class="co">#' @title ASHM Rainbow Plot</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @description Make a rainbow plot of all mutations in a region, ordered and coloured by metadata.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @details This function creates a rainbow plot for all mutations in a region. Region can either be specified with the `region` parameter,</span></span>
<span><span class="co">#' or the user can provide a maf that has already been subset to the region(s) of interest with `mutation_maf`.</span></span>
<span><span class="co">#' As a third alternative, the regions can also be specified as a bed file with `bed`.</span></span>
<span><span class="co">#' Lastly, this function has a variety of parameters that can be used to further customize the returned plot in many different ways.</span></span>
<span><span class="co">#' Refer to the parameter descriptions, examples as well as the vignettes for more demonstrations how this function can be called.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @param mutations_maf A data frame containing mutations (MAF format) within a region of interest (i.e. use the get_ssm_by_region).</span></span>
<span><span class="co">#' @param metadata should be a data frame with sample_id as a column.</span></span>
<span><span class="co">#' @param exclude_classifications Optional argument for excluding specific classifications from a metadeta file.</span></span>
<span><span class="co">#' @param drop_unmutated Boolean argument for removing unmutated sample ids in mutated cases.</span></span>
<span><span class="co">#' @param classification_column The name of the metadata column to use for ordering and colouring samples.</span></span>
<span><span class="co">#' @param bed Optional data frame specifying the regions to annotate (required columns: start, end, name).</span></span>
<span><span class="co">#' @param region Genomic region for plotting in bed format.</span></span>
<span><span class="co">#' @param custom_colours Provide named vector (or named list of vectors) containing custom annotation colours if you do not want to use standartized pallette.</span></span>
<span><span class="co">#' @param hide_ids Boolean argument, if TRUE, ids will be removed.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @return ggplot2 object.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @import dplyr ggplot2</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @examples</span></span>
<span><span class="co">#' #basic usage</span></span>
<span><span class="co">#' region = "chr6:90975034-91066134"</span></span>
<span><span class="co">#' metadata = get_gambl_metadata()</span></span>
<span><span class="co">#' plot = ashm_rainbow_plot(metadata = metadata, region = region)</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' #advanced usages</span></span>
<span><span class="co">#' mybed = data.frame(start = c(128806578,</span></span>
<span><span class="co">#'                              128805652,</span></span>
<span><span class="co">#'                              128748315),</span></span>
<span><span class="co">#'                    end = c(128806992,</span></span>
<span><span class="co">#'                            128809822,</span></span>
<span><span class="co">#'                            128748880),</span></span>
<span><span class="co">#'                    name = c("TSS",</span></span>
<span><span class="co">#'                             "enhancer",</span></span>
<span><span class="co">#'                             "MYC-e1"))</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' ashm_rainbow_plot(mutations_maf = my_mutations,</span></span>
<span><span class="co">#'                   metadata = my_metadata,</span></span>
<span><span class="co">#'                   bed = mybed)</span></span>
<span><span class="co">#'</span></span></code></pre>
</div>
</div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/morinlab/GAMBLR">Source Code</a></li>
<li><a href="https://github.com/morinlab/GAMBLR/issues">Report A Bug</a></li>
<li><a href="https://github.com/morinlab/GAMBLR/pulse">Insights</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing GAMBLR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Ryan Morin <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-2932-7800" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Kostia Dreval <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-6214-2843" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Adam Mattsson <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-6318-7912" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Ryan Morin, Kostia Dreval, Adam Mattsson.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
